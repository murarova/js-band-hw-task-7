(this["webpackJsonpjs-band-hw-task-6"]=this["webpackJsonpjs-band-hw-task-6"]||[]).push([[0],{34:function(e,t,n){e.exports=n(53)},51:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),c=n.n(o),i=n(23),l=n(13),s=n(17),u=n(30),m=n(33),p=n(2),d="ADD_NOTE",b="EDIT_NOTE",f="EDIT_SUCCESS",O="EDIT_NOTE_CANCEL",h="DELETE_NOTE",y="DONE_NOTE";function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={notes:[],note:{title:"",text:"",priority:"high",id:"",done:!1}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case d:return E({},e,{notes:[a.note].concat(Object(m.a)(e.notes))});case h:return E({},e,{notes:e.notes.filter((function(e){return e.id!==a.id}))});case b:return E({},e,{note:e.notes.find((function(e){return e.id===a.id}))});case f:return E({},e,{notes:e.notes.map((function(e){return e.id===a.note.id?a.note:e})),note:j.note});case O:return E({},e,{note:j.note});case y:var r=e.notes.find((function(e){return e.id===a.id})),o=E({},r,{done:!r.done});return E({},e,{notes:e.notes.map((function(e){return e.id===a.id?o:e}))});default:return e}},w="OPEN_MODAL",N="CLOSE_MODAL";function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={isModalOpen:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case w:case N:return k({},e,{isModalOpen:a});default:return e}};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T="SEARCH_NOTES";function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={filterState:{title:"",priority:"",done:""}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case T:return L({},e,{filterState:L({},e.filterState,{},a)});default:return e}},F=Object(s.combineReducers)({notes:g,modal:P,filter:B}),A=Object(s.createStore)(F,Object(u.devToolsEnhancer)()),K=n(16),R=n(10),I=n(11),J=n(14),U=n(12),W=n(3),H=n(15),q=n(31),z=n.n(q),G=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(J.a)(this,Object(U.a)(t).call(this,e))).state=e.note,n.onChange=n.onChange.bind(Object(W.a)(n)),n.onSubmit=n.onSubmit.bind(Object(W.a)(n)),n}return Object(H.a)(t,e),Object(I.a)(t,[{key:"onChange",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this.props.onSubmit,n=this.state,a=n.title,r=n.text,o=n.priority,c=n.done,i=n.id;e.preventDefault(),r&&a?t(a,r,o,i,c):alert("Please, fill all form fields")}},{key:"render",value:function(){var e=this.state,t=e.text,n=e.title,a=this.props.onCancel;return r.a.createElement("div",{className:"col-xs-10 col-sm-8 col-md-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("form",{className:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"Title:"),r.a.createElement("input",{className:"form-control",name:"title",type:"text",placeholder:"Title",value:n,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"Description:"),r.a.createElement("textarea",{className:"form-control",rows:"5",placeholder:"Description",name:"text",value:t,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"modal-title"},"Priority:"),r.a.createElement("select",{className:"form-control",name:"priority",onBlur:this.onChange},r.a.createElement("option",{value:"high"},"high"),r.a.createElement("option",{value:"normal"},"normal"),r.a.createElement("option",{value:"low"},"low"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"btn btn-success",type:"submit"},"Create"),r.a.createElement("button",{className:"btn btn-danger",type:"submit",onClick:a},"Cancel")))))))}}]),t}(a.Component);G.defaultProps={note:{}};var Q=Object(l.b)((function(e){return{note:e.notes.note}}))(G),V=function(e){var t=e.items;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("button",{type:"button",className:e.className,key:e.name,onClick:e.onClick},e.name)})))},X=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(J.a)(this,Object(U.a)(t).call(this,e))).state={isDropdawnOpen:!1,timeout:null},n.onClick=n.onClick.bind(Object(W.a)(n)),n.close=n.close.bind(Object(W.a)(n)),n}return Object(H.a)(t,e),Object(I.a)(t,[{key:"componentWillUnmount",value:function(){var e=this.state.timeout;clearTimeout(e)}},{key:"onClick",value:function(){this.setState((function(e){return{isDropdawnOpen:!e.isDropdawnOpen}}))}},{key:"close",value:function(){var e=this,t=setTimeout((function(){e.setState({isDropdawnOpen:!1})}),100);this.setState({timeout:t})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.text,a=e.priority,o=e.id,c=e.done,i=e.onDelete,l=e.onEdit,s=e.onDone,u=this.state.isDropdawnOpen,m=[{name:"Done",className:"btn btn-success dropdawn-btn",onClick:s},{name:"Edit",className:"btn btn-info dropdawn-btn",onClick:l},{name:"Delete",className:"btn btn-danger dropdawn-btn",onClick:i}];return r.a.createElement("li",{className:c?"done note":"note",key:o},r.a.createElement("h3",{className:"title"},t),r.a.createElement("p",{className:"text"},n),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{type:"button",className:"high"===a?"btn btn-danger":"low"===a?"btn btn-info":"btn btn-primary"},a),r.a.createElement("div",{className:"dropdawn-wrapper",onBlur:this.close},r.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:this.onClick},"..."),u&&r.a.createElement("div",{className:"dropdown"},r.a.createElement(V,{onClose:this.onClose,items:m})))))}}]),t}(a.Component);X.defaultProps={title:"",text:"",priority:"high",id:"",done:!1};var Y=X,Z=Object(l.b)((function(e){return{notes:e.notes.notes,filterState:e.filter.filterState}}),(function(e){return{deleteNote:function(t){return e(function(e){return{type:h,payload:{id:e}}}(t))},doneNote:function(t){return e(function(e){return{type:y,payload:{id:e}}}(t))}}}))((function(e){var t=e.notes,n=e.deleteNote,a=e.onEdit,o=e.doneNote,c=e.filterState;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("ul",{className:"note-list"},t.map((function(e){var t=e.title,i=e.text,l=e.priority,s=e.id,u=e.done;return!(!e.title.toLowerCase().includes(c.title.toLowerCase())||e.done!==c.done&&""!==c.done||e.priority!==c.priority&&""!==c.priority)&&r.a.createElement(Y,{key:s,title:t,text:i,id:s,priority:l,done:u,onDelete:function(){return n(s)},onEdit:function(){return a(s)},onDone:function(){return o(s)}})})))))})),$=function(e){var t=e.onClick,n=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("form",{className:"form-inline main-form"},r.a.createElement("div",{className:"col-xs-12 col-sm-5"},r.a.createElement("div",{className:"form-group width-100"},r.a.createElement("input",{type:"text",className:"form-control width-100",name:"title",placeholder:"search by title",onChange:n}))),r.a.createElement("div",{className:"col-xs-12 col-sm-2"},r.a.createElement("div",{className:"form-group width-100"},r.a.createElement("select",{className:"form-control width-100",name:"done",onChange:n},r.a.createElement("option",{value:"all"},"all"),r.a.createElement("option",{value:"open"},"open"),r.a.createElement("option",{value:"done"},"done")))),r.a.createElement("div",{className:"col-xs-12 col-sm-2"},r.a.createElement("div",{className:"form-group width-100"},r.a.createElement("select",{className:"form-control width-100",name:"priority",onChange:n},r.a.createElement("option",{value:"all"},"all"),r.a.createElement("option",{value:"high"},"high"),r.a.createElement("option",{value:"normal"},"normal"),r.a.createElement("option",{value:"low"},"low")))),r.a.createElement("div",{className:"col-xs-12 col-sm-3"},r.a.createElement("div",{className:"form-group width-100"},r.a.createElement("button",{type:"button",className:"btn btn-primary width-100",onClick:t},"Create")))))))},ee=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(J.a)(this,Object(U.a)(t).call(this,e))).backdropeRef=Object(a.createRef)(),n.handleKeyPress=n.handleKeyPress.bind(Object(W.a)(n)),n.handleBackDropClick=n.handleBackDropClick.bind(Object(W.a)(n)),n}return Object(H.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"handleBackDropClick",value:function(e){var t=this.props.onClose,n=this.backdropeRef.current;n&&e.target!==n||t()}},{key:"handleKeyPress",value:function(e){var t=this.props.onClose;"Escape"===e.code&&t()}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",{className:"overlay",onClick:this.handleBackDropClick,ref:this.backdropeRef},e)}}]),t}(a.Component);n(51);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(J.a)(this,Object(U.a)(t).call(this,e))).onSubmit=n.onSubmit.bind(Object(W.a)(n)),n.onCancel=n.onCancel.bind(Object(W.a)(n)),n.onEdit=n.onEdit.bind(Object(W.a)(n)),n.onFilterChange=n.onFilterChange.bind(Object(W.a)(n)),n}return Object(H.a)(t,e),Object(I.a)(t,[{key:"onSubmit",value:function(e,t,n,a,r){var o=this.props,c=o.addNote,i=o.editNoteSuccess,l=o.closeModal;a?i({done:r,title:e,text:t,priority:n,id:a}):c({done:r,title:e,text:t,priority:n,id:z.a.generate()});l()}},{key:"onCancel",value:function(){var e=this.props,t=e.editNoteCancel,n=e.closeModal;t(),n()}},{key:"onEdit",value:function(e){var t=this.props,n=t.openModal,a=t.editNote;n(),a(e)}},{key:"onFilterChange",value:function(e){var t=this.props.searchNotes;"all"!==e.target.value?"open"!==e.target.value?"done"!==e.target.value?t(ne({},Object(p.a)({},e.target.name,e.target.value))):t(ne({},Object(p.a)({},e.target.name,!0))):t(ne({},Object(p.a)({},e.target.name,!1))):t(ne({},Object(p.a)({},e.target.name,"")))}},{key:"render",value:function(){var e=this.props,t=e.isModalOpen,n=e.openModal,a=e.closeModal,o=e.notes;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("h2",{className:"text-center"},"JS-BAND-HW-TASK-7"),r.a.createElement("div",null,t&&r.a.createElement(ee,{onClose:a},r.a.createElement(Q,{onCancel:this.onCancel,onSubmit:this.onSubmit})),r.a.createElement($,{onChange:this.onFilterChange,onClick:n}),o.length>0&&r.a.createElement(Z,{onEdit:this.onEdit,onDone:this.onDone}))))}}]),t}(a.Component);ae.defaultProps={note:{}};var re=Object(l.b)((function(e){return{isModalOpen:e.modal.isModalOpen,notes:e.notes.notes,filterState:e.filter.filterState}}),(function(e){return{openModal:function(){return e({type:w,payload:!0})},closeModal:function(){return e({type:N,payload:!1})},addNote:function(t){return e(function(e){return{type:d,payload:{note:e}}}(t))},editNote:function(t){return e(function(e){return{type:b,payload:{id:e}}}(t))},editNoteSuccess:function(t){return e(function(e){return{type:f,payload:{note:e}}}(t))},editNoteCancel:function(){return e({type:O})},searchNotes:function(t){return e(function(e){return{type:T,payload:x({},e)}}(t))}}}))(ae),oe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"404"),r.a.createElement("p",null,"Looks like the page you were looking for is no longer here."))},ce=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.d,null,r.a.createElement(K.a,{exact:!0,path:"/",to:"/todos"}),r.a.createElement(K.b,{path:"/todos",component:re}),r.a.createElement(K.b,{component:oe})))};c.a.render(r.a.createElement(l.a,{store:A},r.a.createElement(i.a,{basename:"/"},r.a.createElement(ce,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.d88da8fb.chunk.js.map